!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";function r(){[".ru",".en"].forEach(e=>{!function(e){let t=document.querySelector(e+" .activities"),o=document.querySelector(e+" .year"),r=document.querySelectorAll(e+" .name"),n=[...r].reduce((e,t)=>e.offsetWidth>t.offsetWidth?e:t);function a(){n.style.marginLeft=0;let e=Math.abs(t.offsetWidth-n.offsetWidth-o.offsetWidth-5);e<40&&(e=40),r.forEach(t=>{t.style.marginLeft=e+"px"})}a(),window.addEventListener("resize",a)}(e)})}function n(){let e=[];[".ru",".en"].forEach(t=>{!function(t){let o=document.querySelector(t+" .projects"),r=document.querySelector(t+" .text"),n=document.querySelector(t+" .container"),a=document.querySelector(t+" .sound-popup"),l=!1,i=!1,s=!1;r.addEventListener("mouseover",(function(o){e.push(setTimeout(()=>{if(o.target.id){let e=document.querySelector(`${t} .images__${o.target.id} .image`);n.style.opacity=0,e.style.opacity=1,e.play&&(s||"derive"==o.target.id?(e.play(),o.target.style.cursor="none"):(a.style.display="flex",a.style.left=o.pageX-100+"px",a.style.top=o.pageY-100+"px",setTimeout(()=>{a.style.opacity=1},0))),!0!==i||"transport"!=o.target.id&&"high"!=o.target.id||(e.muted=!1)}},500))})),r.addEventListener("mouseout",(function(o){if(e.forEach(e=>{clearTimeout(e)}),o.target.id){let e=document.querySelector(`${t} .images__${o.target.id} .image`);n.style.opacity=1,e.style.opacity=0,e.play&&(e.pause(),o.target.style.cursor="default"),!0!==i||"transport"!=o.target.id&&"high"!=o.target.id||(e.muted=!0)}})),o.addEventListener("mouseover",(function(o){e.push(setTimeout(()=>{if(o.target.id&&!l){let r=document.querySelectorAll(`${t} .images__${o.target.id} div`),a=1e3*r.length;l=!0,n.style.opacity=0,e.push(setTimeout(()=>{n.style.opacity=1,l=!1},a));let i=0;r.forEach(t=>{e.push(setTimeout(()=>{t.style.opacity=1},i)),i+=1e3,e.push(setTimeout(()=>{t.style.opacity=0},i+200))})}},500))})),o.addEventListener("mouseout",(function(o){e.forEach(e=>{clearTimeout(e),document.querySelectorAll(`${t} .images__${o.target.id} div`).forEach(e=>{e.style.opacity=0}),n.style.opacity=1,l=!1})})),a.addEventListener("click",(function(e){s=!0,"on"==e.target.id&&(i=!0),"off"==e.target.id&&(i=!1),e.target.id&&(this.style.opacity=0,setTimeout(()=>{this.style.display="none"},500))}))}(t)})}o.r(t),window.addEventListener("DOMContentLoaded",()=>{document.querySelector("body").style.opacity=1,function(){let e=void 0;const t=document.location.search.slice(1);void 0!==localStorage.language?e="true"===localStorage.language:"ru"===t?(e=!0,localStorage.language=e):"en"===t?(e=!1,localStorage.language=e):(e="ru"==navigator.language.slice(0,2),localStorage.language=e,setTimeout(()=>{n.style.transform="translateY(115px)"},2e3),setTimeout(()=>{n.style.transform="translateY(-115px)"},7e3),setTimeout(()=>{a.style.transform="translateY(115px)"},2e3),setTimeout(()=>{a.style.transform="translateY(-115px)"},7e3));const o=document.querySelector(".ru"),r=document.querySelector(".en"),n=document.querySelector(".ru .lang-popup"),a=document.querySelector(".en .lang-popup"),l=document.querySelector(".en .lang-popup__switch"),i=document.querySelector(".ru .lang-popup__switch");function s(e){e?(r.style.opacity=0,setTimeout(()=>{r.style.display="none",window.scrollTo(0,0)},500),o.style.display="block",setTimeout(()=>{o.style.opacity=1},0)):(o.style.opacity=0,setTimeout(()=>{o.style.display="none",window.scrollTo(0,0)},500),r.style.display="block",setTimeout(()=>{r.style.opacity=1},0))}s(e),i.addEventListener("click",()=>{s(!1),localStorage.language=!1,a.style.transform="translateY(-115px)",n.style.transform="translateY(-115px)",l.innerText="Переключиться обратно на русский.",setTimeout(()=>{i.innerText="Switch back to English."},2e3)}),l.addEventListener("click",()=>{s(!0),localStorage.language=!0,a.style.transform="translateY(-115px)",n.style.transform="translateY(-115px)",i.innerText="Switch back to English.",setTimeout(()=>{l.innerText="Переключиться обратно на русский."},2e3)}),setTimeout(()=>{window.addEventListener("mousemove",e=>{e.clientY<=80&&e.clientX>=.5*window.screen.width-300&&e.clientX<=.5*window.screen.width+300?(a.style.transform="translateY(115px)",n.style.transform="translateY(115px)"):(a.style.transform="translateY(-115px)",n.style.transform="translateY(-115px)")})},7e3),document.addEventListener("mouseout",e=>{a.style.transform="translateY(-115px)",n.style.transform="translateY(-115px)"})}(),r(),window.innerWidth>1023&&n();Array.from(document.querySelectorAll(".player")).map(e=>new Plyr(e,{hideControls:!1}))})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3RhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9pbWFnZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2xhbmd1YWdlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGFibGUiLCJmb3JFYWNoIiwibGFuZyIsImFjdGl2aXRpZXNFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwieWVhckVsZW1lbnQiLCJhY3Rpdml0eUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIndpZGVzdEVsZW1lbnQiLCJyZWR1Y2UiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsIm9mZnNldFdpZHRoIiwic3BhY2VCZXR3ZWVuIiwic3R5bGUiLCJtYXJnaW5MZWZ0IiwiZGlmZmVyZW5jZSIsIk1hdGgiLCJhYnMiLCJlbGVtZW50Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhYmxlRm9yTGFuZyIsInRpbWVvdXRzIiwicHJvamVjdHNFbGVtZW50IiwidGV4dEVsZW1lbnQiLCJjb250YWluZXJFbGVtZW50Iiwic291bmRQb3B1cEVsZW1lbnQiLCJpc0FuaW1hdGUiLCJpc1NvdW5kT24iLCJwb3B1cElzU2hvd2VkIiwiZXZlbnQiLCJwdXNoIiwic2V0VGltZW91dCIsInRhcmdldCIsImlkIiwiaW1hZ2UiLCJvcGFjaXR5IiwicGxheSIsImN1cnNvciIsImRpc3BsYXkiLCJsZWZ0IiwicGFnZVgiLCJ0b3AiLCJwYWdlWSIsIm11dGVkIiwidGltZW91dCIsImNsZWFyVGltZW91dCIsInBhdXNlIiwiZ2FsbGVyeUVsZW1lbnQiLCJpbnRlcnZhbFRpbWUiLCJsZW5ndGgiLCJtcyIsInRoaXMiLCJpbWFnZXNGb3JMYW5nIiwiaXNSdXNzaWFuIiwidW5kZWZpbmVkIiwibGFuZ01hcmtlckZyb21VUkwiLCJsb2NhdGlvbiIsInNlYXJjaCIsInNsaWNlIiwibG9jYWxTdG9yYWdlIiwibGFuZ3VhZ2UiLCJuYXZpZ2F0b3IiLCJydVBvcHVwRWxlbWVudCIsInRyYW5zZm9ybSIsImVuUG9wdXBFbGVtZW50IiwicnVFbGVtZW50IiwiZW5FbGVtZW50IiwiZW5Qb3B1cFN3aXRjaEVsZW1lbnQiLCJydVBvcHVwU3dpdGNoRWxlbWVudCIsImxhbmdJbml0IiwibGFuZ01hcmtlciIsInNjcm9sbFRvIiwiaW5uZXJUZXh0IiwiY2xpZW50WSIsImNsaWVudFgiLCJzY3JlZW4iLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJBcnJheSIsImZyb20iLCJtYXAiLCJwbGF5ZXIiLCJQbHlyIiwiaGlkZUNvbnRyb2xzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYs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Q2pDRCxFQUFlbEQsTUFBTW1ELFVBQVkscUJBRWpDSSxFQUFxQkssVUFBWSxvQ0FDakN6QyxXQUFXLEtBQ1RxQyxFQUFxQkksVUFBWSwyQkFDaEMsT0FFTEwsRUFBcUJoRCxpQkFBaUIsUUFBUyxLQUM3Q2tELEdBQVMsR0FDVFYsYUFBYUMsVUFBVyxFQUV4QkksRUFBZXBELE1BQU1tRCxVQUFZLHFCQUNqQ0QsRUFBZWxELE1BQU1tRCxVQUFZLHFCQUVqQ0ssRUFBcUJJLFVBQVksMEJBQ2pDekMsV0FBVyxLQUNUb0MsRUFBcUJLLFVBQVkscUNBQ2hDLE9BSUx6QyxXQUFXLEtBQ1RiLE9BQU9DLGlCQUFpQixZQUFjVSxJQUVsQ0EsRUFBTTRDLFNBQVcsSUFDakI1QyxFQUFNNkMsU0FBaUMsR0FBdEJ4RCxPQUFPeUQsT0FBT0MsTUFBYyxLQUM3Qy9DLEVBQU02QyxTQUFpQyxHQUF0QnhELE9BQU95RCxPQUFPQyxNQUFjLEtBRTdDWixFQUFlcEQsTUFBTW1ELFVBQVksb0JBQ2pDRCxFQUFlbEQsTUFBTW1ELFVBQVksc0JBRWpDQyxFQUFlcEQsTUFBTW1ELFVBQVkscUJBQ2pDRCxFQUFlbEQsTUFBTW1ELFVBQVkseUJBR3BDLEtBR0g5RCxTQUFTa0IsaUJBQWlCLFdBQWFVLElBQ3JDbUMsRUFBZXBELE1BQU1tRCxVQUFZLHFCQUNqQ0QsRUFBZWxELE1BQU1tRCxVQUFZLHVCRDlHbkNILEdBRUEvRCxJQUdBcUIsT0FBTzJELFdBQWEsTUFBTyxJQUVYQyxNQUFNQyxLQUFLOUUsU0FBU0ksaUJBQWlCLFlBQVkyRSxJQUM5REMsR0FDQyxJQUFJQyxLQUFLRCxFQUFRLENBQ2ZFLGNBQWMiLCJmaWxlIjoibWFpbi1lNTI5NThjYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vINCc0L7QtNGD0LvRjCDQvtC/0YDQtdC00LXQu9GP0LXRgiBtYXJnaW4tbGVmdCDQtNC70Y8g0LLRgtC+0YDQvtC5INC60L7Qu9C+0L3QutC4XHJcbi8vINC40Lcg0YDQsNC30LTQtdC70LAgXCLQsNC60YLQuNCy0L3QvtGB0YLQuFwiINC/0L4g0YHQsNC80L7QvNGDINC00LvQuNC90L3QvtC80YMg0L/Rg9C90LrRgtGDINC40Lcg0YHQv9C40YHQutCwXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0YWJsZSgpIHtcclxuICAvLyDQndCw0YHRgtGA0LDQuNCy0LDQtdC8INC00LvRjyDQutCw0LbQtNC+0LPQviDRj9C30YvQutCwXHJcbiAgY29uc3QgbGFuZ3MgPSBbJy5ydScsICcuZW4nXVxyXG5cclxuICBsYW5ncy5mb3JFYWNoKChsYW5nKSA9PiB7XHJcbiAgICB0YWJsZUZvckxhbmcobGFuZylcclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiB0YWJsZUZvckxhbmcobGFuZykge1xyXG4gICAgLy8g0JfQsNCx0LjRgNCw0LXQvCDRjdC70LXQvNC10L3RgtGLXHJcbiAgICBsZXQgYWN0aXZpdGllc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2xhbmd9IC5hY3Rpdml0aWVzYClcclxuICAgIGxldCB5ZWFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7bGFuZ30gLnllYXJgKVxyXG4gICAgbGV0IGFjdGl2aXR5RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke2xhbmd9IC5uYW1lYClcclxuXHJcbiAgICAvLyDQndCw0YXQvtC00LjQvCDRgdCw0LzRi9C5INGI0LjRgNC+0LrQuNC5XHJcbiAgICBsZXQgd2lkZXN0RWxlbWVudCA9IFsuLi5hY3Rpdml0eUVsZW1lbnRzXS5yZWR1Y2UoKHByZXZpb3VzRWxlbWVudCwgY3VycmVudEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuIHByZXZpb3VzRWxlbWVudC5vZmZzZXRXaWR0aCA+IGN1cnJlbnRFbGVtZW50Lm9mZnNldFdpZHRoID8gcHJldmlvdXNFbGVtZW50IDogY3VycmVudEVsZW1lbnRcclxuICAgIH0pXHJcblxyXG4gICAgZnVuY3Rpb24gc3BhY2VCZXR3ZWVuKCkge1xyXG4gICAgICAvLyDQntCx0L3Rg9C70Y/QtdC8INGB0YLQsNGA0L7QtSDQt9C90LDRh9C10L3QuNC1XHJcbiAgICAgIHdpZGVzdEVsZW1lbnQuc3R5bGUubWFyZ2luTGVmdCA9IDBcclxuXHJcbiAgICAgIC8vINCh0YfQuNGC0LDQtdC8INGB0LLQvtCx0L7QtNC90L7QtSDQvNC10YHRgtC+INC90LAg0Y3QutGA0LDQvdC1INGDINGB0LDQvNC+0LPQviDRiNC40YDQvtC60L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcclxuICAgICAgbGV0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyhhY3Rpdml0aWVzRWxlbWVudC5vZmZzZXRXaWR0aCAtIHdpZGVzdEVsZW1lbnQub2Zmc2V0V2lkdGggLSB5ZWFyRWxlbWVudC5vZmZzZXRXaWR0aCAtIDUpXHJcbiAgICAgIGRpZmZlcmVuY2UgPCA0MCA/IChkaWZmZXJlbmNlID0gNDApIDogZGlmZmVyZW5jZVxyXG5cclxuICAgICAgLy8g0KHQtNCy0LjQs9Cw0LXQvCDQstGB0LUg0L/Rg9C90LrRgtGLINGC0LDQsdC70LjRhtGLXHJcbiAgICAgIGFjdGl2aXR5RWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAke2RpZmZlcmVuY2V9cHhgXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc3BhY2VCZXR3ZWVuKClcclxuXHJcbiAgICAvLyDQn9GA0Lgg0YDQtdGB0LDQudC30LUg0L/QtdGA0LXRgdGH0LjRgtGL0LLQsNC10LxcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzcGFjZUJldHdlZW4pXHJcbiAgfVxyXG59XHJcbiIsIi8vINCc0LXRgtC+0LQg0L7RgNCz0LDQvdC40LfRg9C10YIg0L/QvtC60LDQtyDQuNC30L7QsdGA0LDQttC10L3QuNC5INC/0YDQuCDQvdCw0LLQtdC00LXQvdC40Lgg0L3QsCDQvdCw0LfQstCw0L3QuNGPINC/0YDQvtC10LrRgtC+0LJcclxuLy8g0KMg0LrQsNC20LTQvtC5INGB0YHRi9C70LrQuCDQtdGB0YLRjCDRgdCy0L7QuSBpZCwg0L/QviDQutC+0YLQvtGA0L7QvNGDINC80Ysg0YHRgNCw0LfRgyDQvtCx0YDQsNGJ0LDQtdC80YHRjyDQuiDRjdC70LXQvNC10L3RgtGDXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbWFnZXMoKSB7XHJcbiAgLy8g0J3QsNGB0YLRgNCw0LjQstCw0LXQvCDQtNC70Y8g0LrQsNC20LTQvtCz0L4g0Y/Qt9GL0LrQsFxyXG4gIGNvbnN0IGxhbmdzID0gWycucnUnLCAnLmVuJ11cclxuICBsZXQgdGltZW91dHMgPSBbXVxyXG5cclxuICBsYW5ncy5mb3JFYWNoKChsYW5nKSA9PiB7XHJcbiAgICBpbWFnZXNGb3JMYW5nKGxhbmcpXHJcbiAgfSlcclxuXHJcbiAgZnVuY3Rpb24gaW1hZ2VzRm9yTGFuZyhsYW5nKSB7XHJcbiAgICAvLyDQotC10LrRgdGCLCDQsiDQutC+0YLQvtGA0L7QvCDQstGB0LUg0L3QsNGI0Lgg0YHRgdGL0LvQutC4INC90LAg0L/RgNC+0LXQutGC0YssINC/0L4g0L3QsNCy0LXQtNC10L3QuNGOINC90LAg0LrQvtGC0L7RgNGL0LVcclxuICAgIC8vINCx0YPQtNC10YIg0YHRgNCw0LHQsNGC0YvQstCw0YLRjCDQsNC90LjQvNCw0YbQuNGPXHJcbiAgICBsZXQgcHJvamVjdHNFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtsYW5nfSAucHJvamVjdHNgKVxyXG4gICAgbGV0IHRleHRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtsYW5nfSAudGV4dGApXHJcbiAgICBsZXQgY29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7bGFuZ30gLmNvbnRhaW5lcmApXHJcbiAgICBsZXQgc291bmRQb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2xhbmd9IC5zb3VuZC1wb3B1cGApXHJcblxyXG4gICAgLy8g0JzQsNGA0LrQtdGAINGA0LDQsdC+0YLRiyDQsNC90LjQvNCw0YbQuNC4XHJcbiAgICBsZXQgaXNBbmltYXRlID0gZmFsc2VcclxuICAgIC8vINCc0LDRgNC60LXRgCDQstC60LvRjtGH0ZHQvdC90L7RgdGC0Lgg0LfQstGD0LrQsFxyXG4gICAgbGV0IGlzU291bmRPbiA9IGZhbHNlXHJcbiAgICAvLyDQnNC10YDQutC10YAg0L/QtdGA0LLQvtCz0L4g0L/QvtC60LDQt9CwINC/0L7Qv9Cw0L/QsCDQstC60LvRjtGH0LXQvdC40Y8g0LfQstGD0LrQsFxyXG4gICAgbGV0IHBvcHVwSXNTaG93ZWQgPSBmYWxzZVxyXG5cclxuICAgIC8vINCf0L4g0L3QsNCy0LXQtNC10L3QuNGOINC90LAg0YLQtdC60YHRgiDQvdCw0YXQvtC00LjQvCDRhtC10LvQtdCy0L7QuSDRjdC70LXQvNC10L3RglxyXG4gICAgLy8g0JXRgdC70Lgg0YMg0L3QtdCz0L4g0LXRgdGC0YwgaWQsINC30L3QsNGH0LjRgiDQvdCw0LLQtdC70LjRgdGMINC90LAg0L/RgNC+0LXQutGCXHJcbiAgICAvLyDQldGB0LvQuCAhaXNBbmltYXRlLCDQt9C90LDRh9C40YIg0LTRgNGD0LPQuNC1INCw0L3QuNC80LDRhtC40Lgg0YHQtdC50YfQsNGBINC90LUg0LjQtNGD0YJcclxuXHJcbiAgICAvLyDQntGC0LTQtdC70YzQvdGL0LUg0YTQvtGC0L4g0LIg0YDQsNC30LTQtdC70LUg0YEg0YLQtdC60YHRgtC+0LxcclxuICAgIC8vINCd0LDQstC10LTQtdC90LjQtSDQvdCwINGN0LvQtdC80LXQvdGCXHJcbiAgICB0ZXh0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdGltZW91dHMucHVzaChcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQpIHtcclxuICAgICAgICAgICAgLy8g0J3QsNGF0L7QtNC40Lwg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC5INC60L7QvdGC0LXQudC90LXRgCDRgSDRhNC+0YLQvtGA0LDRhNC40Y/QvNC4XHJcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7bGFuZ30gLmltYWdlc19fJHtldmVudC50YXJnZXQuaWR9IC5pbWFnZWApXHJcblxyXG4gICAgICAgICAgICAvLyDQodC60YDRi9Cy0LDQtdC8INGC0LXQutGB0YJcclxuICAgICAgICAgICAgY29udGFpbmVyRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMFxyXG4gICAgICAgICAgICAvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDRhNC+0YLQvlxyXG4gICAgICAgICAgICBpbWFnZS5zdHlsZS5vcGFjaXR5ID0gMVxyXG5cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0Y3RgtC+INCy0LjQtNC10L5cclxuICAgICAgICAgICAgaWYgKGltYWdlLnBsYXkpIHtcclxuICAgICAgICAgICAgICAvLyDQldGB0LvQuCDQvdC1INC/0L7QutCw0LfRi9Cy0LDQu9C4INGA0LDQvdC10LUg0L/QvtC/0LDQv1xyXG4gICAgICAgICAgICAgIGlmICghcG9wdXBJc1Nob3dlZCAmJiBldmVudC50YXJnZXQuaWQgIT0gJ2Rlcml2ZScpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kUG9wdXBFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuICAgICAgICAgICAgICAgIHNvdW5kUG9wdXBFbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtldmVudC5wYWdlWCAtIDEwMH1weGBcclxuICAgICAgICAgICAgICAgIHNvdW5kUG9wdXBFbGVtZW50LnN0eWxlLnRvcCA9IGAke2V2ZW50LnBhZ2VZIC0gMTAwfXB4YFxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzb3VuZFBvcHVwRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMVxyXG4gICAgICAgICAgICAgICAgfSwgMClcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UucGxheSgpXHJcbiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ25vbmUnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgaXNTb3VuZE9uID09PSB0cnVlICYmXHJcbiAgICAgICAgICAgICAgKGV2ZW50LnRhcmdldC5pZCA9PSAndHJhbnNwb3J0JyB8fCBldmVudC50YXJnZXQuaWQgPT0gJ2hpZ2gnKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBpbWFnZS5tdXRlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgLy8g0KPRhdC+0LQg0YEg0Y3Qu9C10LzQtdC90YLQsFxyXG4gICAgdGV4dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdGltZW91dHMuZm9yRWFjaCgodGltZW91dCkgPT4ge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxyXG4gICAgICB9KVxyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmlkKSB7XHJcbiAgICAgICAgLy8g0J3QsNGF0L7QtNC40Lwg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC5INC60L7QvdGC0LXQudC90LXRgCDRgSDRhNC+0YLQvtGA0LDRhNC40Y/QvNC4XHJcbiAgICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtsYW5nfSAuaW1hZ2VzX18ke2V2ZW50LnRhcmdldC5pZH0gLmltYWdlYClcclxuXHJcbiAgICAgICAgY29udGFpbmVyRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMVxyXG4gICAgICAgIGltYWdlLnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG4gICAgICAgIGlmIChpbWFnZS5wbGF5KSB7XHJcbiAgICAgICAgICBpbWFnZS5wYXVzZSgpXHJcbiAgICAgICAgICBldmVudC50YXJnZXQuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNTb3VuZE9uID09PSB0cnVlICYmIChldmVudC50YXJnZXQuaWQgPT0gJ3RyYW5zcG9ydCcgfHwgZXZlbnQudGFyZ2V0LmlkID09ICdoaWdoJykpIHtcclxuICAgICAgICAgIGltYWdlLm11dGVkID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyDQodC10YDQuNC4INGE0L7RgtC+INCyINGA0LDQt9C00LXQu9C1INGBINC/0YDQvtC10LrRgtCw0LzQuFxyXG5cclxuICAgIHByb2plY3RzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgdGltZW91dHMucHVzaChcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmIChldmVudC50YXJnZXQuaWQgJiYgIWlzQW5pbWF0ZSkge1xyXG4gICAgICAgICAgICAvLyDQndCw0YXQvtC00LjQvCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0LrQvtC90YLQtdC50L3QtdGAINGBINGE0L7RgtC+0YDQsNGE0LjRj9C80LhcclxuICAgICAgICAgICAgbGV0IGdhbGxlcnlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgICAgICBgJHtsYW5nfSAuaW1hZ2VzX18ke2V2ZW50LnRhcmdldC5pZH0gZGl2YFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAvLyDQlNC70LjQvdCwINCw0L3QuNC80LDRhtC40LhcclxuICAgICAgICAgICAgbGV0IGludGVydmFsVGltZSA9IDEwMDAgKiBnYWxsZXJ5RWxlbWVudC5sZW5ndGhcclxuXHJcbiAgICAgICAgICAgIGlzQW5pbWF0ZSA9IHRydWUgLy8g0JDQvdC40LzQsNGG0LjRjyDQv9C+0YjQu9CwXHJcblxyXG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwXHJcblxyXG4gICAgICAgICAgICAvLyDQkdC70L7Rh9C40Lwg0YLRgNC+0YLRgtC70LjQvdCzINC90LAg0LLRgNC10LzRjyDQsNC90LjQvNCw0YbQuNC4XHJcbiAgICAgICAgICAgIHRpbWVvdXRzLnB1c2goXHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxXHJcblxyXG4gICAgICAgICAgICAgICAgaXNBbmltYXRlID0gZmFsc2VcclxuICAgICAgICAgICAgICB9LCBpbnRlcnZhbFRpbWUpXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIC8vINCf0LXRgNC10LHQuNGA0LDQtdC8INC40LfQvtCx0YDQsNC20LXQvdC40Y8g0LIg0LrQvtC90YLQtdC50L3QtdGA0LUsXHJcbiAgICAgICAgICAgIC8vINC/0L7QvtGH0LXRgNGR0LTQvdC+INC/0L7QutCw0LfRi9Cy0LDRjyDQuCDRgdC60YDRi9Cy0LDRj1xyXG4gICAgICAgICAgICBsZXQgbXMgPSAwXHJcblxyXG4gICAgICAgICAgICBnYWxsZXJ5RWxlbWVudC5mb3JFYWNoKChpbWFnZSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8XHJcbiAgICAgICAgICAgICAgdGltZW91dHMucHVzaChcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpbWFnZS5zdHlsZS5vcGFjaXR5ID0gMVxyXG4gICAgICAgICAgICAgICAgfSwgbXMpXHJcbiAgICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICAgICAgICAvLyDQn9C70LDQvdC40YDRg9C10Lwg0YHQu9C10LTRg9GO0YnRg9GOINC40YLQtdGA0LDRhtC40Y5cclxuICAgICAgICAgICAgICBtcyArPSAxMDAwXHJcblxyXG4gICAgICAgICAgICAgIC8vINCh0LrRgNGL0LLQsNC10LxcclxuICAgICAgICAgICAgICB0aW1lb3V0cy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGltYWdlLnN0eWxlLm9wYWNpdHkgPSAwXHJcbiAgICAgICAgICAgICAgICB9LCBtcyArIDIwMClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHByb2plY3RzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICB0aW1lb3V0cy5mb3JFYWNoKCh0aW1lb3V0KSA9PiB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXHJcblxyXG4gICAgICAgIGxldCBnYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYCR7bGFuZ30gLmltYWdlc19fJHtldmVudC50YXJnZXQuaWR9IGRpdmApXHJcbiAgICAgICAgZ2FsbGVyeUVsZW1lbnQuZm9yRWFjaCgoaW1hZ2UpID0+IHtcclxuICAgICAgICAgIGltYWdlLnN0eWxlLm9wYWNpdHkgPSAwXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb250YWluZXJFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxXHJcbiAgICAgICAgaXNBbmltYXRlID0gZmFsc2VcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgc291bmRQb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgcG9wdXBJc1Nob3dlZCA9IHRydWVcclxuXHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuaWQgPT0gJ29uJykge1xyXG4gICAgICAgIGlzU291bmRPbiA9IHRydWVcclxuICAgICAgfVxyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmlkID09ICdvZmYnKSB7XHJcbiAgICAgICAgaXNTb3VuZE9uID0gZmFsc2VcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5pZCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGUub3BhY2l0eSA9IDBcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG4gICAgICAgIH0sIDUwMClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHRhYmxlIGZyb20gJy4vdGFibGUuanMnXHJcbmltcG9ydCBpbWFnZXMgZnJvbSAnLi9pbWFnZXMuanMnXHJcbmltcG9ydCBsYW5ndWFnZSBmcm9tICcuL2xhbmd1YWdlLmpzJ1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgLy8g0J/QvtC60LDQt9GL0LLQsNC10Lwg0LrQvtC90YLQtdC90YJcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3BhY2l0eSA9IDFcclxuXHJcbiAgbGFuZ3VhZ2UoKSAvLyDQndCw0YHRgtGA0LDQuNCy0LDQtdC8INGP0LfRi9C6XHJcblxyXG4gIHRhYmxlKCkgLy8g0J3QsNGB0YLRgNCw0LjQstCw0LXQvCDRgtCw0LHQu9C40YbRgyDQstC90LjQt9GDXHJcblxyXG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10LwgXCLQs9Cw0LvQtdGA0LXRjlwiINGC0L7Qu9GM0LrQviDQvdCwINCx0L7Qu9GM0YjQuNGFINGN0LrRgNCw0L3QsNGFXHJcbiAgd2luZG93LmlubmVyV2lkdGggPiAxMDIzID8gaW1hZ2VzKCkgOiBmYWxzZVxyXG5cclxuICBjb25zdCBwbGF5ZXJzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyJykpLm1hcChcclxuICAgIChwbGF5ZXIpID0+XHJcbiAgICAgIG5ldyBQbHlyKHBsYXllciwge1xyXG4gICAgICAgIGhpZGVDb250cm9sczogZmFsc2UsXHJcbiAgICAgIH0pXHJcbiAgKVxyXG59KVxyXG4iLCIvLyDQnNC+0LTRg9C70Ywg0L7Qv9GA0LXQtNC10LvRj9C10YIg0Y/Qt9GL0Log0LjQtyBVUkwgKD9ydSAvID9lbilcclxuLy8g0JXRgdC70Lgg0LIgVVJMINC90LjRh9C10LPQviDQvdC1INC90LDRiNC70LgsINGC0L4g0L7Qv9GA0LXQtNC10LvRj9C10Lwg0LjQtyBuYXZpZ2F0b3IubGFuZ3VhZ2VcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxhbmd1YWdlKCkge1xyXG4gIGxldCBpc1J1c3NpYW4gPSB1bmRlZmluZWRcclxuXHJcbiAgY29uc3QgbGFuZ01hcmtlckZyb21VUkwgPSBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2guc2xpY2UoMSlcclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5sYW5ndWFnZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBpc1J1c3NpYW4gPSBsb2NhbFN0b3JhZ2UubGFuZ3VhZ2UgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZVxyXG4gIH0gZWxzZSBpZiAobGFuZ01hcmtlckZyb21VUkwgPT09ICdydScpIHtcclxuICAgIGlzUnVzc2lhbiA9IHRydWVcclxuICAgIGxvY2FsU3RvcmFnZS5sYW5ndWFnZSA9IGlzUnVzc2lhblxyXG4gIH0gZWxzZSBpZiAobGFuZ01hcmtlckZyb21VUkwgPT09ICdlbicpIHtcclxuICAgIGlzUnVzc2lhbiA9IGZhbHNlXHJcbiAgICBsb2NhbFN0b3JhZ2UubGFuZ3VhZ2UgPSBpc1J1c3NpYW5cclxuICB9IGVsc2Uge1xyXG4gICAgaXNSdXNzaWFuID0gJ3J1JyA9PSBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc2xpY2UoMCwgMikgPyB0cnVlIDogZmFsc2VcclxuICAgIGxvY2FsU3RvcmFnZS5sYW5ndWFnZSA9IGlzUnVzc2lhblxyXG5cclxuICAgIC8vINCf0LXRgNCy0LjRh9C90YvQuSDQv9C+0LrQsNC3INC/0L7Qv9Cw0L/QsFxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHJ1UG9wdXBFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDExNXB4KSdcclxuICAgIH0sIDIwMDApXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgcnVQb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTExNXB4KSdcclxuICAgIH0sIDcwMDApXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZW5Qb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoMTE1cHgpJ1xyXG4gICAgfSwgMjAwMClcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBlblBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTE1cHgpJ1xyXG4gICAgfSwgNzAwMClcclxuICB9XHJcblxyXG4gIGNvbnN0IHJ1RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydScpXHJcbiAgY29uc3QgZW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVuJylcclxuICBjb25zdCBydVBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ydSAubGFuZy1wb3B1cCcpXHJcbiAgY29uc3QgZW5Qb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW4gLmxhbmctcG9wdXAnKVxyXG4gIGNvbnN0IGVuUG9wdXBTd2l0Y2hFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVuIC5sYW5nLXBvcHVwX19zd2l0Y2gnKVxyXG4gIGNvbnN0IHJ1UG9wdXBTd2l0Y2hFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJ1IC5sYW5nLXBvcHVwX19zd2l0Y2gnKVxyXG5cclxuICBmdW5jdGlvbiBsYW5nSW5pdChsYW5nTWFya2VyKSB7XHJcbiAgICBpZiAobGFuZ01hcmtlcikge1xyXG4gICAgICBlbkVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDBcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVuRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApXHJcbiAgICAgIH0sIDUwMClcclxuXHJcbiAgICAgIHJ1RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBydUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDFcclxuICAgICAgfSwgMClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJ1RWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMFxyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcnVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcclxuICAgICAgfSwgNTAwKVxyXG5cclxuICAgICAgZW5FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVuRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMVxyXG4gICAgICB9LCAwKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGFuZ0luaXQoaXNSdXNzaWFuKVxyXG5cclxuICAvLyDQkNC60YLQuNCy0LjRgNGD0LXQvCDQutC90L7Qv9C60LhcclxuICBydVBvcHVwU3dpdGNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGxhbmdJbml0KGZhbHNlKVxyXG4gICAgbG9jYWxTdG9yYWdlLmxhbmd1YWdlID0gZmFsc2VcclxuXHJcbiAgICBlblBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTE1cHgpJ1xyXG4gICAgcnVQb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTExNXB4KSdcclxuXHJcbiAgICBlblBvcHVwU3dpdGNoRWxlbWVudC5pbm5lclRleHQgPSBg0J/QtdGA0LXQutC70Y7Rh9C40YLRjNGB0Y8g0L7QsdGA0LDRgtC90L4g0L3QsCDRgNGD0YHRgdC60LjQuS5gXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgcnVQb3B1cFN3aXRjaEVsZW1lbnQuaW5uZXJUZXh0ID0gYFN3aXRjaCBiYWNrIHRvIEVuZ2xpc2guYFxyXG4gICAgfSwgMjAwMClcclxuICB9KVxyXG4gIGVuUG9wdXBTd2l0Y2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbGFuZ0luaXQodHJ1ZSlcclxuICAgIGxvY2FsU3RvcmFnZS5sYW5ndWFnZSA9IHRydWVcclxuXHJcbiAgICBlblBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTE1cHgpJ1xyXG4gICAgcnVQb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTExNXB4KSdcclxuXHJcbiAgICBydVBvcHVwU3dpdGNoRWxlbWVudC5pbm5lclRleHQgPSBgU3dpdGNoIGJhY2sgdG8gRW5nbGlzaC5gXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZW5Qb3B1cFN3aXRjaEVsZW1lbnQuaW5uZXJUZXh0ID0gYNCf0LXRgNC10LrQu9GO0YfQuNGC0YzRgdGPINC+0LHRgNCw0YLQvdC+INC90LAg0YDRg9GB0YHQutC40LkuYFxyXG4gICAgfSwgMjAwMClcclxuICB9KVxyXG5cclxuICAvLyDQn9C+0YHQu9C1INC/0LXRgNCy0LjRh9C90L7Qs9C+INC/0L7QutCw0LfQsCDQv9C+0L/QsNC/0LAgKNGH0LXRgNC10LcgNyDRgdC10LrRg9C90LQpINCy0LrQu9GO0YfQsNC10Lwg0L/RgNC+0YHQu9GD0YjQutGDINC80YvRiNC4XHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldmVudC5jbGllbnRZIDw9IDgwICYmXHJcbiAgICAgICAgZXZlbnQuY2xpZW50WCA+PSB3aW5kb3cuc2NyZWVuLndpZHRoICogMC41IC0gMzAwICYmXHJcbiAgICAgICAgZXZlbnQuY2xpZW50WCA8PSB3aW5kb3cuc2NyZWVuLndpZHRoICogMC41ICsgMzAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGVuUG9wdXBFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDExNXB4KSdcclxuICAgICAgICBydVBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgxMTVweCknXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZW5Qb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTExNXB4KSdcclxuICAgICAgICBydVBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTE1cHgpJ1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0sIDcwMDApXHJcblxyXG4gIC8vINCf0YDQuCDRg9GF0L7QtNC1INGB0L4g0YHRgtGA0LDQvdC40YbRiyDQv9GA0Y/Rh9C10Lwg0L/QvtC/0LDQv1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKGV2ZW50KSA9PiB7XHJcbiAgICBlblBvcHVwRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMTE1cHgpJ1xyXG4gICAgcnVQb3B1cEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTExNXB4KSdcclxuICB9KVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=